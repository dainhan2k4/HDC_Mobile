<odoo>
  <template id="fund_buy" name="Fund Buy Page">
    <t t-call="web.layout">
      <t t-set="title">ƒê·∫∑t l·ªánh mua</t>

      <t t-call-assets="web.assets_frontend" t-js="true" />
      <t t-set="head">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
        <link rel="stylesheet" href="/fund_management/static/src/css/fund_buy.css"/>
      </t>

<!--      <t t-call="fund_management.fund_header_template"/>-->

      <div id="header-container"></div>

      <div class="profile-container">
        <div class="max-w-7xl mx-auto bg-white rounded-lg shadow p-6 rounded-4 mt-4">
          <div class="bg-white rounded-4 px-3 py-3">


            <nav class="navbar navbar-expand-lg navbar-light bg-white rounded-4 shadow-sm mb-4 px-3 border py-2 " >
              <div class="collapse navbar-collapse justify-content-center">
                <ul class="navbar-nav d-flex w-100 justify-content-center fs-5">
                  <li class="nav-item flex-fill text-center">
                    <a class="fw-bold px-2 nav-link-blue nav-link-active" href="fund_buy">Mua</a>
                  </li>
                  <li class="nav-item flex-fill text-center">
                    <a class="px-2 nav-link-blue" href="fund_sell">B√°n</a>
                  </li>
                  <li class="nav-item flex-fill text-center">
                    <a class="px-2 nav-link-blue" href="#">Chuy·ªÉn ƒë·ªïi</a>
                  </li>
                </ul>
              </div>
            </nav>


            <!-- B∆∞·ªõc ti·∫øn tr√¨nh -->
            <div class="progress-steps mx-auto" style="max-width: 500px;">
              <div class="d-flex justify-content-between align-items-center mb-4">
                <!-- B∆∞·ªõc 1 -->
                <div class="text-center">
                  <div class="step-circle active">1</div>
                  <small class="d-block mt-2">ƒê·∫∑t l·ªánh</small>
                </div>

                <div class="flex-grow-1 mx-2 border-top position-relative" style="top: -18px;"></div>

                <!-- B∆∞·ªõc 2 -->
                <div class="text-center">
                  <div class="step-circle">2</div>
                  <small class="d-block mt-2">X√°c nh·∫≠n</small>
                </div>

                <div class="flex-grow-1 mx-2 border-top position-relative" style="top: -18px;"></div>

                <!-- B∆∞·ªõc 3 -->
                <div class="text-center">
                  <div class="step-circle">3</div>
                  <small class="d-block mt-2">K·∫øt qu·∫£</small>
                </div>
              </div>
            </div>


            <!-- Main Form -->
            <div class="row">
              <!-- Form Input -->
              <div class="col-md-7">
                <div class="card p-4 shadow-sm rounded-4">
                  <h5 class="mb-4">ƒê·∫∑t l·ªánh mua</h5>

                  <form id="fund-buy-form">
                    <div class="row mb-3 align-items-center">
                      <label for="fund-select" class="col-sm-4 col-form-label">Ch·ªçn s·∫£n ph·∫©m <span class="text-danger">*</span></label>
                      <div class="col-sm-8">
                        <select id="fund-select" class="form-select"></select>
                      </div>
                    </div>

                    <!-- Gi√° tr·ªã 1 c·ªï phi·∫øu -->
                    <div class="mb-3 row align-items-center">
                      <label class="col-sm-4 col-form-label">Gi√° CCQ</label>
                      <div class="col-sm-8">
                        <div id="current-nav" class="form-control text-end">...</div>
                      </div>
                    </div>

                    <div class="mb-3" style="display: none;">
                      <label class="form-label">ID</label>
                      <div id="current-id" class="form-control bg-light">...</div>
                    </div>

                    <!-- Nh·∫≠p s·ªë ti·ªÅn ƒë·∫ßu t∆∞ -->
                    <div class="mb-3 row align-items-center">
                      <label for="investment-amount-input" class="col-sm-4 col-form-label">
                        S·ªë ti·ªÅn ƒë·∫ßu t∆∞<span class="text-danger">*</span>
                      </label>
                      <div class="col-sm-8">
                        <input type="text" id="investment-amount-input" class="form-control text-end" placeholder="Nh·∫≠p s·ªë ti·ªÅn ƒë·∫ßu t∆∞"/>
                        <div class="form-text text-warning">S·ªë ti·ªÅn ƒë·∫ßu t∆∞ t·ªëi thi·ªÉu 1,000,000ƒë</div>
                      </div>
                    </div>

                    <!-- Nh·∫≠p s·ªë CCQ mu·ªën mua -->
                    <div class="mb-3 row align-items-center">
                      <label for="share-quantity-input" class="col-sm-4 col-form-label">
                        S·ªë l∆∞·ª£ng CCQ<span class="text-danger">*</span>
                      </label>
                      <div class="col-sm-8">
                        <input type="number" id="share-quantity-input" class="form-control text-end" placeholder="Nh·∫≠p s·ªë l∆∞·ª£ng CCQ ho·∫∑c s·ªë ti·ªÅn ƒë·∫ßu t∆∞"/>
                      </div>
                    </div>

                    <div class="mb-3" style="display: none;">
                      <label class="form-label">Gi√° tr·ªã l·ªánh mua</label>
                      <input id="amount-input" type="text" class="form-control bg-light" placeholder="0" readonly="1"/>
                      <div class="form-text text-warning">S·ªë ti·ªÅn ƒë·∫ßu t∆∞ t·ªëi thi·ªÉu 1,000,000ƒë</div>
                    </div>

                    <!-- Ch·ªçn k·ª≥ h·∫°n -->
                    <div class="mb-3 row align-items-center">
                      <label class="col-sm-4 col-form-label">Ch·ªçn k·ª≥ h·∫°n - L√£i su·∫•t <span class="text-danger">*</span></label>
                      <div class="col-sm-8">
                        <select id="term-select" class="form-select" onchange="handleTermChange(this.value)">
                          <option value="" selected="selected" disabled="disabled">-- ƒêang t·∫£i k·ª≥ h·∫°n --</option>
                        </select>
                      </div>
                    </div>

                    <!-- L√£i su·∫•t -->
                    <div class="mb-3 row align-items-center">
                      <label class="col-sm-4 col-form-label">L√£i su·∫•t</label>
                      <div class="col-sm-8">
                        <div id="interest-rate" class="form-control text-end">...</div>
                      </div>
                    </div>

                    <!-- Gi√° b√°n khi ƒë√°o h·∫°n -->
                    <div class="mb-3 row align-items-center">
                      <label class="col-sm-4 col-form-label">Gi√° b√°n khi ƒë√°o h·∫°n</label>
                      <div class="col-sm-8">
                        <div id="maturity-price" class="form-control text-end">...</div>
                      </div>
                    </div>

                    <!-- Gi√° tr·ªã th·ª±c nh·∫≠n -->
                    <div class="mb-3 row align-items-center">
                      <label class="col-sm-4 col-form-label">Gi√° tr·ªã nh·∫≠n ƒë∆∞·ª£c sau ƒë√°o h·∫°n</label>
                      <div class="col-sm-8">
                        <div class="position-relative">
                          <div id="final-value" class="form-control text-end fw-bold" style="font-size: 1.1rem;">...</div>
                          <div id="profit-indicator" class="position-absolute top-0 end-0 translate-middle">
                            <span id="profit-icon" class="badge" style="display: none;">üìà</span>
                            <span id="loss-icon" class="badge" style="display: none;">üìâ</span>
                          </div>
                        </div>
                        <div id="profit-status" class="form-text text-center mt-1" style="font-weight: 500;"></div>
                      </div>
                    </div>

                    <!-- Ph√≠ mua -->
                    <div class="mb-3 row align-items-center">
                      <label class="col-sm-4 col-form-label">Ph√≠ mua</label>
                      <div class="col-sm-8">
                        <input id="fee-input" type="text" class="form-control text-end text-dark" value="0" readonly="1"/>
                      </div>
                      <a href="#" class="form-text text-end" data-bs-toggle="modal" data-bs-target="#feeModal">Xem bi·ªÉu ph√≠</a>
                    </div>
                  </form>
                </div>
              </div>

              <!-- Investment Summary -->
              <div class="col-md-5">
                <div class="card p-4 shadow-sm rounded-4 mb-3">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0">Th√¥ng tin ƒë·∫ßu t∆∞</h5>
                    <a href="#" class="form-text" data-bs-toggle="modal" data-bs-target="#signatureModal">Xem ƒëi·ªÅu kho·∫£n</a>
                  </div>

                  <ul class="list-group list-group-flush border rounded-3">
                    <li class="list-group-item d-flex justify-content-between">
                      <span>Qu·ªπ ƒë·∫ßu t∆∞</span>
                      <strong id="summary-fund-name">FCTEST</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>Lo·∫°i l·ªánh</span>
                      <strong>Mua</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>Ng√†y ƒë·∫∑t l·ªánh</span>
                      <strong id="buy-order-date">...</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>K·ª≥ h·∫°n</span>
                      <strong id="summary-term">...</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>L√£i su·∫•t</span>
                      <strong id="summary-interest">...</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>S·ªë ti·ªÅn ƒë·∫ßu t∆∞</span>
                      <strong id="summary-investment-amount">0ƒë</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>S·ªë ti·ªÅn mua CCQ</span>
                      <strong id="summary-amount">0ƒë</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>Ph√≠ mua</span>
                      <strong id="summary-fee">0ƒë</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                      <span>T·ªïng thanh to√°n</span>
                      <strong id="summary-total">0ƒë</strong>
                    </li>

                    <li class="list-group-item d-flex justify-content-between">
                      <span>T·ªïng s·ªë CCQ</span>
                      <strong id="summary-units">0</strong>
                    </li>

                  </ul>

                  <div class="d-flex justify-content-between mt-4">
                      <button type="button" class="btn btn-pill btn-sell" id="back-btn">Quay l·∫°i</button>
                      <button type="button" class="btn btn-pill btn-buy" id="payment-btn">Thanh to√°n</button>
                  </div>
                </div>


              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ‚úÖ Modal bi·ªÉu ph√≠ -->
      <t t-call="fund_management.fee_template"/>
      <t t-call="fund_management.terms_modal_template"/>
      <t t-call="fund_management.signature_modal_template"/>



    </t>
  </template>
</odoo>
