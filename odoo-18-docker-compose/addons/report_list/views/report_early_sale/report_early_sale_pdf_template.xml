<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_list.report_early_sale_pdf_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <div class="oe_structure"/>
                    
                    <div class="row">
                        <div class="col-6">
                            <h2>Báo cáo bán trước hạn</h2>
                        </div>
                        <div class="col-6 text-right">
                            <p><strong>Công ty:</strong> <span t-esc="company_name"/></p>
                            <p><strong>Thời gian xuất:</strong> <span t-esc="export_time"/></p>
                            <p><strong>Người xuất:</strong> <span t-esc="user_name"/></p>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-12">
                            <p><strong>Tổng số bản ghi:</strong> <span t-esc="total_records"/></p>
                            <t t-if="selected_term">
                                <p><strong>Kỳ hạn được lọc:</strong> <span t-esc="selected_term"/> tháng</p>
                            </t>
                            <t t-if="from_date">
                                <p><strong>Từ ngày mua:</strong> <span t-esc="from_date"/></p>
                            </t>
                            <t t-if="to_date">
                                <p><strong>Đến ngày mua:</strong> <span t-esc="to_date"/></p>
                            </t>
                            <t t-if="sale_from_date">
                                <p><strong>Từ ngày bán:</strong> <span t-esc="sale_from_date"/></p>
                            </t>
                            <t t-if="sale_to_date">
                                <p><strong>Đến ngày bán:</strong> <span t-esc="sale_to_date"/></p>
                            </t>
                        </div>
                    </div>
                    
                    <table style="width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.8rem;">
                        <thead>
                            <tr style="background-color: #343a40; color: white;">
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">STT</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Số Hợp đồng</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Số TK</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Số TK GDCK</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Khách hàng</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Số tiền</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Ngày HĐ mua</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Kỳ hạn</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Lãi suất</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Ngày bán lại theo HĐ</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Ngày đáo hạn</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Ngày bán lại</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Ngày thanh toán</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Số ngày duy trì</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Số ngày bán trước hạn</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Lãi suất trước hạn</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Tiền lãi</th>
                                <th style="border: 1px solid #dee2e6; padding: 6px; text-align: center;">Lãi + gốc</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="records" t-as="record">
                                <tr>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.stt"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.so_hop_dong"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.so_tk"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.so_tk_gdck"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.khach_hang"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: right;" t-esc="record.so_tien"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.ngay_hd_mua"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.ky_han"/> tháng
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.lai_suat"/>%
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.ngay_ban_lai_theo_hd"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.ngay_dao_han"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.ngay_ban_lai"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.ngay_thanh_toan"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.so_ngay_duy_tri"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.so_ngay_ban_truoc_han"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: center;" t-esc="record.lai_suat_truoc_han"/>%
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: right;" t-esc="record.tien_lai"/>
                                    <td style="border: 1px solid #dee2e6; padding: 4px; text-align: right;" t-esc="record.lai_goc"/>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>
</odoo>
